<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paginator Test</title>
  <style>
    button {
      margin: 5px;
    }
  </style>
</head>

<body>
  <div id="paginator"></div>
  <script>
    class Paginator {
      constructor(data, itemsPerPage, key) {
        this.data = data;
        this.itemsPerPage = itemsPerPage;
        this.currentPage = 1;
        this.key = key;
      }

      getTotalPages() {
        return Math.ceil(this.data.length / this.itemsPerPage);
      }

      goToPage(pageNumber) {
        if (pageNumber < 1 || pageNumber > this.getTotalPages()) {
          console.error("Invalid page number");
          return;
        }
        this.currentPage = pageNumber;
        this.displayCurrentPage();
      }

      nextPage() {
        if (this.currentPage < this.getTotalPages()) {
          this.currentPage++;
          this.displayCurrentPage();
        }
      }

      prevPage() {
        if (this.currentPage > 1) {
          this.currentPage--;
          this.displayCurrentPage();
        }
      }

      displayCurrentPage() {
        const start = (this.currentPage - 1) * this.itemsPerPage;
        let end = start + this.itemsPerPage;
        if (end > this.data.length) {
          end = this.data.length; // Adjust end index for the last page
        }
        const currentPageData = this.data.slice(start, end).map(item => item[this.key]);
        document.getElementById('paginator').innerText = `Page ${this.currentPage}: ${currentPageData.join(', ')}`;
      }

      getCurrentPageDataObjects() {
        const start = (this.currentPage - 1) * this.itemsPerPage;
        let end = start + this.itemsPerPage;
        if (end > this.data.length) {
          end = this.data.length; // Adjust end index for the last page
        }
        return this.data.slice(start, end);
      }
    }

    // Example usage:
    const data = {
      "status": 1,
      "Unterricht": [
        {
          "PK_Unterricht": 19,
          "FK_Turnus": 3,
          "FK_Schuelergruppenart": 3,
          "Wochenstunden": 23,
          "Zusatzinformation": "Te",
          "FK_Schuljahr": 3,
          "LetztesUpdate": "2024-01-30 11:12:26"
        },
        // Other data items...
      ]
    };

    const itemsPerPage = 5; // Adjust the number of items per page as needed
    const key = "PK_Unterricht"; // Specify the key to paginate on

    const paginator = new Paginator(data.Unterricht, itemsPerPage, key);
    paginator.displayCurrentPage();

    function backwards() {
      paginator.prevPage();
      paginator.displayCurrentPage();
    }

    function forwards() {
      paginator.nextPage();
      paginator.displayCurrentPage();
    }
  </script>
  <button id="prevBtn" onclick="backwards()">Previous Page</button>
  <button id="nextBtn" onclick="forwards()">Next Page</button>
</body>

</html>